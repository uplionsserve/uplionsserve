---
import "../base.css"
import Header from "@components/Header.astro"
import Footer from "@components/Footer.astro"

export interface Props {
	title: string
}

const { title } = Astro.props

import { seo, author, book } from "../config.json"
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="canonical" href={seo.canonical} />
		<meta name="generator" content={Astro.generator} />
		<meta name="robots" content="index,follow" />
		<meta name="googlebot" content="index,follow" />
		<meta name="description" content={seo.description} />
		<meta property="og:url" content={seo.canonical} />
		<meta property="og:title" content={seo.title} />
		<meta property="og:description" content={seo.description} />
		<meta property="og:type" content="website" />
		<meta property="og:image" content={seo.canonical + seo.image} />
		<meta property="og:image:width" content="800" />
		<meta property="og:image:height" content="600" />
		<meta property="og:site_name" content={seo.title} />
		<meta property="og:locale" content={seo.locale} />

		<meta property="og:type" content="book" />
		<meta property="book:author" content={author.name} />
		<meta property="book:isbn" content={book.isbn} />
		<meta property="book:release_date" content={book.releaseDate} />

		<meta property="og:type" content="product" />
		<meta property="product:price:amount" content={book.price} />
		<meta property="product:price:currency" content={book.currency} />

		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={seo.title} />
		<meta name="twitter:description" content={seo.description} />

		<title>{seo.title}</title>

		<!-- Google tag (gtag.js) -->
		<script
			type="text/partytown"
			async
			src="https://www.googletagmanager.com/gtag/js?id=G-9FXFDTDRH4"></script>
		<script type="text/partytown">
			window.dataLayer = window.dataLayer || []
			function gtag() {
				dataLayer.push(arguments)
			}
			gtag("js", new Date())

			gtag("config", "G-9FXFDTDRH4")
		</script>
	</head>
	<body class="flex min-h-screen flex-col">
		<Header />
		<slot />
		<style is:global>
			.love {
				display: inline-block;
				position: relative;
				top: 0.1em;
				transform: scale(0.9);
				animation: love 0.5s infinite linear alternate-reverse;
			}

			@keyframes love {
				to {
					transform: scale(1.1);
				}
			}

			.ribbon {
				position: absolute;
				top: 0;
				right: 0;
				width: 150px;
				height: 30px;
				margin-right: -40px;
				margin-top: 20px;
				padding-top: 5px;
				transform: rotate(45deg); /* Standard syntax */
			}
		</style>
		<Footer />
	</body>
</html>
